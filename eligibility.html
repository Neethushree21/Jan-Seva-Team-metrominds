<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Check Eligibility – JanSeva</title>
    <meta name="description" content="Check your eligibility for 450+ government welfare schemes in under 2 minutes." />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap"
        rel="stylesheet" />
    <link rel="stylesheet" href="styles.css" />
</head>

<body>
    <div class="tricolor-strip">
        <div class="tc-saffron"></div>
        <div class="tc-white"></div>
        <div class="tc-green"></div>
    </div>
    <nav class="navbar" id="navbar">
        <div class="nav-inner">
            <a href="index.html" class="nav-brand">
                <div class="brand-logo"><svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                        <path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z" stroke="white" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round" />
                        <polyline points="9 22 9 12 15 12 15 22" stroke="white" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round" />
                    </svg></div>
                <div class="brand-text"><span class="brand-name">JanSeva</span><span class="brand-sub">Government of
                        India</span></div>
            </a>
            <ul class="nav-links" id="navLinks">
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li><a href="eligibility.html" class="nav-link">Check Eligibility</a></li>
                <li><a href="tracking.html" class="nav-link">Track Application</a></li>
                <li><a href="transparency.html" class="nav-link">Fund Tracker</a></li>
                <li><a href="report.html" class="nav-link">Report Issue</a></li>
            </ul>
            <div class="nav-actions">
                <button class="btn-nav-login" id="loginBtn"><svg width="15" height="15" viewBox="0 0 24 24" fill="none">
                        <path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" />
                        <circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="2" />
                    </svg><span>Login with Aadhaar</span></button>
                <button class="hamburger" id="hamburger"><span></span><span></span><span></span></button>
            </div>
        </div>
    </nav>

    <div class="breadcrumb-bar">
        <div class="breadcrumb-inner"><a href="index.html">Home</a><span class="breadcrumb-sep">›</span><span>Check
                Eligibility</span></div>
    </div>

    <div class="page-hero">
        <div class="page-hero-inner">
            <div class="page-hero-tag">
                <svg width="13" height="13" viewBox="0 0 24 24" fill="none">
                    <path d="M9 11l3 3L22 4" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" />
                </svg>
                Eligibility Check · Under 2 Minutes
            </div>
            <h1>Find Your Government Schemes</h1>
            <p>Enter your profile details or connect DigiLocker for instant AI-powered matching across 450+ Central and
                State schemes.</p>
        </div>
    </div>

    <section class="section section-gray">
        <div class="container">
            <div class="elig-layout">

                <!-- FORM CARD -->
                <div class="step-card">

                    <!-- STEP 1 -->
                    <div class="elig-step active" id="step1">
                        <div class="step-bar">
                            <div class="step-node s-active" id="sn1">1</div>
                            <div class="step-conn" id="sc1"></div>
                            <div class="step-node" id="sn2">2</div>
                            <div class="step-conn" id="sc2"></div>
                            <div class="step-node" id="sn3">3</div>
                        </div>
                        <h3 class="step-title">Basic Profile</h3>

                        <button class="digilocker-btn" id="digilockerBtn">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                                <rect x="2" y="7" width="20" height="14" rx="2" stroke="currentColor"
                                    stroke-width="2" />
                                <path d="M16 7V5a2 2 0 00-2-2h-4a2 2 0 00-2 2v2" stroke="currentColor"
                                    stroke-width="2" />
                            </svg>
                            Connect DigiLocker — Auto-fill Profile
                        </button>
                        <div class="divider-or">or enter manually</div>

                        <div class="form-grid-2">
                            <div class="form-group">
                                <label class="form-label">State / UT</label>
                                <div class="select-wrap">
                                    <select class="form-control" id="stateSelect">
                                        <option value="">Select State</option>
                                        <option>Tamil Nadu</option>
                                        <option>Maharashtra</option>
                                        <option>Uttar Pradesh</option>
                                        <option>Rajasthan</option>
                                        <option>Andhra Pradesh</option>
                                        <option>Telangana</option>
                                        <option>Karnataka</option>
                                        <option>West Bengal</option>
                                        <option>Bihar</option>
                                        <option>Madhya Pradesh</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Category</label>
                                <div class="select-wrap">
                                    <select class="form-control" id="categorySelect">
                                        <option value="">Select Category</option>
                                        <option>General</option>
                                        <option>OBC</option>
                                        <option>SC</option>
                                        <option>ST</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Annual Household Income</label>
                                <div class="select-wrap">
                                    <select class="form-control" id="incomeSelect">
                                        <option value="">Select Range</option>
                                        <option>Below ₹50,000</option>
                                        <option>₹50,000 – ₹1 Lakh</option>
                                        <option>₹1 Lakh – ₹2.5 Lakh</option>
                                        <option>Above ₹2.5 Lakh</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Primary Occupation</label>
                                <div class="select-wrap">
                                    <select class="form-control" id="occupationSelect">
                                        <option value="">Select Occupation</option>
                                        <option>Farmer / Agriculture</option>
                                        <option>Daily Wage Labour</option>
                                        <option>Student</option>
                                        <option>Self-Employed</option>
                                        <option>Government Employee</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Pin Code</label>
                            <input type="text" class="form-control" id="pincodeInput"
                                placeholder="Enter 6-digit Pincode" maxlength="6" />
                        </div>
                        <button class="btn-primary btn-full" id="step1Next">Continue to Step 2</button>
                    </div>

                    <!-- STEP 2 -->
                    <div class="elig-step" id="step2">
                        <div class="step-bar">
                            <div class="step-node s-done"><svg width="12" height="12" viewBox="0 0 24 24" fill="none">
                                    <polyline points="20 6 9 17 4 12" stroke="white" stroke-width="3"
                                        stroke-linecap="round" />
                                </svg></div>
                            <div class="step-conn s-done"></div>
                            <div class="step-node s-active">2</div>
                            <div class="step-conn"></div>
                            <div class="step-node">3</div>
                        </div>
                        <h3 class="step-title">Additional Details</h3>
                        <p style="font-size:0.85rem;color:var(--text-2);margin-bottom:18px">Select all that apply to
                            you:</p>
                        <div class="checkbox-group">
                            <label class="checkbox-item"><input type="checkbox" id="chkFarmer" /> Land Owner / Farmer
                                (for PM-Kisan, PMFBY etc.)</label>
                            <label class="checkbox-item"><input type="checkbox" id="chkWoman" /> Woman / Female Head of
                                Household</label>
                            <label class="checkbox-item"><input type="checkbox" id="chkDisabled" /> Person with
                                Disability (40%+ disability)</label>
                            <label class="checkbox-item"><input type="checkbox" id="chkStudent" /> Student (Age
                                5–25)</label>
                            <label class="checkbox-item"><input type="checkbox" id="chkSenior" /> Senior Citizen (Age 60
                                and above)</label>
                            <label class="checkbox-item"><input type="checkbox" id="chkPreg" /> Pregnant / Lactating
                                Mother</label>
                        </div>
                        <div style="display:flex;gap:10px;margin-top:22px">
                            <button class="btn-ghost" id="step2Back"><svg width="14" height="14" viewBox="0 0 24 24"
                                    fill="none">
                                    <polyline points="15 18 9 12 15 6" stroke="currentColor" stroke-width="2.5"
                                        stroke-linecap="round" />
                                </svg> Back</button>
                            <button class="btn-primary btn-full" id="step2Next">Find My Schemes</button>
                        </div>
                    </div>

                    <!-- STEP 3 RESULTS -->
                    <div class="elig-step" id="step3">
                        <div class="step-bar">
                            <div class="step-node s-done"><svg width="12" height="12" viewBox="0 0 24 24" fill="none">
                                    <polyline points="20 6 9 17 4 12" stroke="white" stroke-width="3"
                                        stroke-linecap="round" />
                                </svg></div>
                            <div class="step-conn s-done"></div>
                            <div class="step-node s-done"><svg width="12" height="12" viewBox="0 0 24 24" fill="none">
                                    <polyline points="20 6 9 17 4 12" stroke="white" stroke-width="3"
                                        stroke-linecap="round" />
                                </svg></div>
                            <div class="step-conn s-done"></div>
                            <div class="step-node s-active">3</div>
                        </div>
                        <h3 class="step-title">Your Scheme Matches</h3>
                        <div class="results-summary">
                            <div class="rs-box green"><span class="rs-num" id="eligCount">0</span><span
                                    class="rs-label">Eligible — Apply Now</span></div>
                            <div class="rs-box amber"><span class="rs-num" id="docCount">0</span><span
                                    class="rs-label">Docs Required</span></div>
                            <div class="rs-box red"><span class="rs-num" id="notCount">0</span><span
                                    class="rs-label">Not Eligible</span></div>
                        </div>
                        <div class="scheme-list" id="schemeList"></div>
                        <button class="btn-ghost" id="step3Back" style="margin-top:16px"><svg width="14" height="14"
                                viewBox="0 0 24 24" fill="none">
                                <polyline points="15 18 9 12 15 6" stroke="currentColor" stroke-width="2.5"
                                    stroke-linecap="round" />
                            </svg> Start Over</button>
                    </div>
                </div>

                <!-- SIDEBAR -->
                <div class="info-sidebar">
                    <div style="border-radius:var(--radius-lg);overflow:hidden;border:1px solid var(--border)">
                        <img src="https://images.unsplash.com/photo-1573497491208-6b1acb260507?w=700&q=80&auto=format&fit=crop"
                            alt="Indian woman checking government scheme on mobile phone"
                            style="width:100%;height:180px;object-fit:cover;display:block" />
                    </div>
                    <div class="info-box">
                        <div class="info-box-icon">
                            <div class="icon-chip chip-green"><svg width="20" height="20" viewBox="0 0 24 24"
                                    fill="none">
                                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" stroke="currentColor"
                                        stroke-width="2" />
                                    <polyline points="9 12 11 14 15 10" stroke="currentColor" stroke-width="2"
                                        stroke-linecap="round" />
                                </svg></div>
                        </div>
                        <h4 class="info-box-title">DPDP Compliant</h4>
                        <p class="info-box-desc">Your data is processed only with explicit consent and is never stored
                            beyond the session without approval.</p>
                    </div>
                    <div class="info-box">
                        <div class="info-box-icon">
                            <div class="icon-chip chip-blue"><svg width="20" height="20" viewBox="0 0 24 24"
                                    fill="none">
                                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" />
                                    <polyline points="12 6 12 12 16 14" stroke="currentColor" stroke-width="2"
                                        stroke-linecap="round" />
                                </svg></div>
                        </div>
                        <h4 class="info-box-title">Under 2 Minutes</h4>
                        <p class="info-box-desc">AI-powered matching scans 450+ Central and State schemes against your
                            verified profile instantly.</p>
                    </div>
                    <div class="info-box">
                        <div class="info-box-icon">
                            <div class="icon-chip chip-amber"><svg width="20" height="20" viewBox="0 0 24 24"
                                    fill="none">
                                    <rect x="2" y="7" width="20" height="14" rx="2" stroke="currentColor"
                                        stroke-width="2" />
                                    <path d="M16 7V5a2 2 0 00-2-2h-4a2 2 0 00-2 2v2" stroke="currentColor"
                                        stroke-width="2" />
                                </svg></div>
                        </div>
                        <h4 class="info-box-title">Auto-Fill Applications</h4>
                        <p class="info-box-desc">Once eligible, DigiLocker data pre-fills 80% of the application form —
                            reducing errors and rejections.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="footer">
        <div class="footer-top">
            <div class="footer-top-inner">
                <div>
                    <div class="footer-brand-logo">
                        <div class="footer-brand-icon"><svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                                <path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z" stroke="white"
                                    stroke-width="2" />
                                <polyline points="9 22 9 12 15 12 15 22" stroke="white" stroke-width="2" />
                            </svg></div><span class="footer-name">JanSeva</span>
                    </div>
                    <p class="footer-desc">Bridging 1.4 billion citizens with transparent, accountable governance.</p>
                    <div class="footer-compliance"><span class="compliance-badge">India Stack</span><span
                            class="compliance-badge">DPDP Compliant</span><span class="compliance-badge">Bhashini
                            NLP</span></div>
                </div>
                <div class="footer-col">
                    <h5>Platform</h5><a href="eligibility.html">Eligibility Checker</a><a
                        href="tracking.html">Application Tracking</a><a href="transparency.html">Fund Transparency</a><a
                        href="report.html">Report Failure</a>
                </div>
                <div class="footer-col">
                    <h5>Integration</h5><a href="#">Aadhaar Authentication</a><a href="#">DigiLocker API</a><a
                        href="#">NPCI / DBT</a><a href="#">Bhashini NLP</a>
                </div>
                <div class="footer-col">
                    <h5>Legal</h5><a href="#">DPDP Privacy Policy</a><a href="#">Terms of Use</a><a href="#">RTI
                        Information</a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="footer-bottom-inner">
                <p>© 2026 JanSeva. Government of India Initiative.</p>
                <p>भारत सरकार</p>
            </div>
        </div>
    </footer>

    <button class="voice-fab" id="voiceFab" title="Voice Assistant"><svg width="22" height="22" viewBox="0 0 24 24"
            fill="none">
            <path d="M12 1a3 3 0 00-3 3v8a3 3 0 006 0V4a3 3 0 00-3-3z" stroke="white" stroke-width="2" />
            <path d="M19 10v2a7 7 0 01-14 0v-2" stroke="white" stroke-width="2" stroke-linecap="round" />
            <line x1="12" y1="19" x2="12" y2="23" stroke="white" stroke-width="2" stroke-linecap="round" />
        </svg></button>
    <div class="voice-modal-overlay" id="voiceModal" style="display:none">
        <div class="voice-modal">
            <button class="modal-close" id="voiceModalClose"><svg width="14" height="14" viewBox="0 0 24 24"
                    fill="none">
                    <line x1="18" y1="6" x2="6" y2="18" stroke="currentColor" stroke-width="2.5"
                        stroke-linecap="round" />
                    <line x1="6" y1="6" x2="18" y2="18" stroke="currentColor" stroke-width="2.5"
                        stroke-linecap="round" />
                </svg></button>
            <div class="voice-rings">
                <div class="v-ring"></div>
                <div class="v-ring"></div>
                <div class="v-ring"></div>
                <div class="v-center"><svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M12 1a3 3 0 00-3 3v8a3 3 0 006 0V4a3 3 0 00-3-3z" stroke="white" stroke-width="2" />
                        <path d="M19 10v2a7 7 0 01-14 0v-2" stroke="white" stroke-width="2" stroke-linecap="round" />
                        <line x1="12" y1="19" x2="12" y2="23" stroke="white" stroke-width="2" stroke-linecap="round" />
                    </svg></div>
            </div>
            <h4>Voice Assistant</h4>
            <p>Say: "मुझे PM-Kisan में कैसे अप्लाई करना है?" or "Show farmer schemes in Telangana"</p>
            <div class="lang-chips"><span class="lang-chip active">English</span><span
                    class="lang-chip">हिंदी</span><span class="lang-chip">తెలుగు</span><span
                    class="lang-chip">தமிழ்</span><span class="lang-chip">বাংলা</span><span class="lang-chip">+17
                    more</span></div>
        </div>
    </div>

    <script src="app.js"></script>
    <script>
        /* ---- Scheme data with required docs for amber schemes ---- */
        const SCHEMES = [
            { name: 'PM-Kisan Samman Nidhi', occ: ['Farmer / Agriculture'], status: 'green', amount: '₹6,000/yr' },
            { name: 'Ayushman Bharat – PMJAY', occ: ['Farmer / Agriculture', 'Daily Wage Labour', 'Self-Employed'], status: 'green', amount: '₹5L Health Cover/yr' },
            { name: 'PM Ujjwala Yojana (LPG)', occ: ['Farmer / Agriculture', 'Daily Wage Labour'], status: 'green', amount: 'Free Gas Connection' },
            { name: 'MGNREGS – 100 Days Work', occ: ['Daily Wage Labour', 'Farmer / Agriculture'], status: 'green', amount: '₹267/day' },
            { name: 'PM Awas Yojana (Rural)', occ: ['Farmer / Agriculture', 'Daily Wage Labour'], status: 'green', amount: '₹1.2L Housing Grant' },
            { name: 'National Scholarship Portal', occ: ['Student'], status: 'green', amount: 'Up to ₹75,000/yr' },
            { name: 'PM SVANidhi – Street Vendor Loan', occ: ['Self-Employed'], status: 'green', amount: '₹50,000 Loan' },
            {
                name: 'Pradhan Mantri Vaya Vandana', occ: ['Farmer / Agriculture', 'Self-Employed'], status: 'amber', amount: 'Pension Benefits',
                docs: ['Aadhaar Card', 'Income Certificate', 'Bank Passbook', 'Age Proof / Birth Certificate']
            },
            {
                name: 'PM Crop Insurance (PMFBY)', occ: ['Farmer / Agriculture'], status: 'amber', amount: 'Crop Risk Cover',
                docs: ['Aadhaar Card', 'Land Records (7/12 Extract)', 'Bank Passbook', 'Crop Sowing Certificate']
            },
            {
                name: 'Maternity Benefit Programme', occ: ['Daily Wage Labour', 'Farmer / Agriculture'], status: 'amber', amount: '₹5,000 Benefit',
                docs: ['Aadhaar Card', 'Pregnancy / MCP Card', 'Bank Passbook', 'Income Certificate']
            },
            { name: 'Central Govt Employees Scheme', occ: ['Farmer / Agriculture', 'Daily Wage Labour', 'Student', 'Self-Employed'], status: 'red', amount: 'N/A' },
        ];

        /* ---- Step navigation ---- */
        document.getElementById('step1Next').addEventListener('click', () => {
            if (!document.getElementById('stateSelect').value || !document.getElementById('categorySelect').value ||
                !document.getElementById('incomeSelect').value || !document.getElementById('occupationSelect').value ||
                document.getElementById('pincodeInput').value.length < 6) {
                showToast('Please fill all required fields.', 'error'); return;
            }
            document.getElementById('step1').classList.remove('active');
            document.getElementById('step2').classList.add('active');
        });

        document.getElementById('step2Back').addEventListener('click', () => {
            document.getElementById('step2').classList.remove('active');
            document.getElementById('step1').classList.add('active');
        });

        document.getElementById('step2Next').addEventListener('click', () => {
            const occ = document.getElementById('occupationSelect').value;
            const matched = SCHEMES.filter(s => s.occ.includes(occ) || s.status === 'red').slice(0, 10);
            document.getElementById('eligCount').textContent = matched.filter(s => s.status === 'green').length;
            document.getElementById('docCount').textContent = matched.filter(s => s.status === 'amber').length;
            document.getElementById('notCount').textContent = matched.filter(s => s.status === 'red').length;

            document.getElementById('schemeList').innerHTML = matched.map((s, i) => {
                let btn = '';
                if (s.status === 'green') {
                    btn = '<button class="sr-btn apply-btn" data-scheme="' + s.name + '" data-idx="' + i + '">Apply</button>';
                } else if (s.status === 'amber') {
                    const safeDocsAttr = JSON.stringify(s.docs || []).replace(/"/g, '&quot;');
                    btn = '<button class="sr-btn amber-btn upload-btn" data-scheme="' + s.name.replace(/"/g, '&quot;') + '" data-docs="' + safeDocsAttr + '">Upload Docs</button>';
                }
                return '<div class="scheme-row"><div class="sr-indicator ' + s.status + '"></div><div class="sr-name">' + s.name + '</div><div class="sr-amt">' + s.amount + '</div>' + btn + '</div>';
            }).join('');

            /* Wire Apply buttons */
            document.querySelectorAll('.apply-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const name = btn.dataset.scheme;
                    const idx = parseInt(btn.dataset.idx, 10);
                    requireLogin(() => showToast('Application submitted for ' + name + '! Ref: APL-' + ((idx + 1) * 1000 + 2025)));
                });
            });

            /* Wire Upload Docs buttons */
            document.querySelectorAll('.upload-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const name = btn.dataset.scheme;
                    const docs = JSON.parse(btn.dataset.docs);
                    requireLogin(() => openUploadDocModal(name, docs));
                });
            });

            document.getElementById('step2').classList.remove('active');
            document.getElementById('step3').classList.add('active');
        });

        document.getElementById('step3Back').addEventListener('click', () => {
            document.getElementById('step3').classList.remove('active');
            document.getElementById('step1').classList.add('active');
            ['stateSelect', 'categorySelect', 'incomeSelect', 'occupationSelect'].forEach(id => document.getElementById(id).value = '');
            document.getElementById('pincodeInput').value = '';
        });

        /* ---- DigiLocker auto-fill (requires login) ---- */
        document.getElementById('digilockerBtn').addEventListener('click', () => {
            requireLogin(() => {
                showToast('DigiLocker connected — fetching documents…');
                setTimeout(() => {
                    document.getElementById('stateSelect').value = 'Telangana';
                    document.getElementById('categorySelect').value = 'OBC';
                    document.getElementById('incomeSelect').value = '₹50,000 – ₹1 Lakh';
                    document.getElementById('occupationSelect').value = 'Farmer / Agriculture';
                    document.getElementById('pincodeInput').value = '500001';
                    showToast('Profile auto-filled from DigiLocker successfully!');
                }, 1800);
            });
        });

        /* Global handler for amber buttons rendered via innerHTML */
        window.handleUploadDoc = function (name, docsArr) {
            requireLogin(() => openUploadDocModal(name, docsArr));
        };
    </script>
</body>

</html>